!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./assets/",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);const n=document.querySelector("#timer"),r=e=>{const t=Math.floor(e/3600),o=Math.floor(e%3600/60),n=e%60;return{hours:c(t),minutes:c(o),seconds:c(n)}},s=({hours:e,minutes:t,seconds:o})=>{n.textContent=`${e}: ${t} : ${o}`},c=e=>e<1?"00":e<10?"0"+e:e;let l="granted"===Notification.permission;const i=(e,t)=>{if(l){return new Notification("Pomodoro Timer",{body:"work"===e?`Pomodoro session ${t} is finished`:"Break is over",icon:"./assets/alarm.png"})}},a=document.querySelector("tbody");let u=[];const d=(e,t,o,n)=>{const s="work"===t?`${t}_${o+1}`:""+t,c=e||n.get(t),{hours:l,minutes:i,seconds:a}=r(c),d={logName:s,editedTime:c>=3600?`${l} : ${i} : ${a}`:`${i} : ${a}`,logDate:(new Date).toLocaleDateString()};u.push(d),g(d)},g=e=>{const t=a.insertRow();for(const o in e){const n=document.createElement("td"),r=document.createTextNode(e[o]);n.appendChild(r),t.appendChild(n)}},m=document.querySelectorAll("input"),[k,v,b,f]=m,p=document.querySelector("#settings"),y=document.querySelector("#status"),S=document.querySelectorAll(".btn-select"),[w,L,h]=S,T=document.querySelectorAll("button:not(.btn-select)"),[q,E,x,$,O]=T,P=document.querySelector("#showLog"),N=document.querySelector(".close-btn"),M=document.querySelector("#settingsToggle");let{workTime:j,breakTime:C,longBreakTime:_,autoResume:B}=(()=>{const e=JSON.parse(localStorage.getItem("settings"));return k.value=e?e.work:25,v.value=e?e.break:5,b.value=e?e.long:10,f.checked=!e||e.resume,{workTime:60*k.value,breakTime:60*v.value,longBreakTime:60*b.value,autoResume:f.checked}})(),R="work",D=!1,I=j,A=0;const J=new Map,H=()=>{J.set("work",j),J.set("break",C),J.set("long break",_)};H(),window.Notification?l||Notification.requestPermission().then(e=>{l="granted"===e}).catch(e=>{l=!1,console.error(e)}):console.log("Browser does not support notifications.");const z=(e,t)=>{if(R===e)return;document.querySelector(".selected").classList.toggle("selected"),t.target.classList.toggle("selected"),G(e),U()},F=e=>{switch(document.querySelector(".selected").classList.toggle("selected"),e){case"work":w.classList.toggle("selected");break;case"break":L.classList.toggle("selected");break;case"long break":h.classList.toggle("selected")}G(e)},G=e=>{R=e,y.textContent=K()},K=()=>""+("work"===R?"Session #"+(A+1):"Resting...");s(r(I)),y.textContent=K(),setInterval(()=>{D&&(I--,I<0&&(B?Q():U()),s(r(I)))},1e3);const Q=()=>{"work"===R?(d(J.get(R)-(I+1),R,A,J),A++,i(R,A),A>=4?(A=0,F("long break"),I=_):(F("break"),I=C)):(i(R,A),d(J.get(R)-(I+1),R,A,J),F("work"),I=j)},U=()=>{I<J.get(R)&&d(J.get(R)-(I+1),R,A,J),I=J.get(R),q.textContent="Start",D&&(q.classList.toggle("active"),q.classList.toggle("paused"),D=!1),A=0,G(R),s(r(I))},V=()=>{(()=>{let e=k.value,t=v.value,o=b.value;e<=0||t<=0||o<=0?alert("Please use numbers higher than 0"):localStorage.setItem("settings",JSON.stringify({work:e,break:t,long:o,resume:f.checked}))})();const e=(()=>{const e=JSON.parse(localStorage.getItem("settings"));return{workTime:60*e.work,breakTime:60*e.break,longBreakTime:60*e.long,autoResume:e.resume}})();e&&(({workTime:j,breakTime:C,longBreakTime:_,autoResume:B}=e),H(),U())};q.addEventListener("click",()=>{D=!D,q.textContent=D?"Pause":"Start",q.classList.toggle("active"),q.classList.toggle("paused")}),w.addEventListener("click",z.bind(void 0,"work")),L.addEventListener("click",z.bind(void 0,"break")),h.addEventListener("click",z.bind(void 0,"long break")),E.addEventListener("click",U),$.addEventListener("click",()=>{k.value=25,v.value=5,b.value=10,f.value=!0,V()}),x.addEventListener("click",V),O.addEventListener("click",()=>{a.innerHTML=""});const W=e=>{e.preventDefault(),document.querySelector(".popup").classList.toggle("hidden")};P.addEventListener("click",e=>W(e)),N.addEventListener("click",e=>W(e)),M.addEventListener("click",e=>{e.preventDefault(),p.classList.toggle("hidden")})}]);